//
//     Generated by classdumpios 1.0.2 (64 bit).
//
//  Copyright (C) 1997-2019 Steve Nygard.
//

#import <objc/NSObject.h>

#import "WAMessagePreprocessorDelegate-Protocol.h"

@class NSArray, NSDictionary, NSMutableDictionary, NSString, WABatchDispatcher, XMPPConnectionMain;
@protocol OS_dispatch_queue, OS_dispatch_semaphore;

@interface WAMessageHandler : NSObject <WAMessagePreprocessorDelegate>
{
    NSObject<OS_dispatch_queue> *_workQueue;
    WABatchDispatcher *_ingressDispatcher;
    WABatchDispatcher *_egressDispatcher;
    _Atomic _Bool _batchesMessages;
    XMPPConnectionMain *_xmppConnection;
    NSMutableDictionary *_revokedMessageSignals;
    NSArray *_lastOfflineMarkerNSEMessageKeys;
    NSObject<OS_dispatch_queue> *_prekeyMessageQueue;
    NSObject<OS_dispatch_semaphore> *_prekeyMessageSemaphore;
    CDUnknownBlockType _prekeyMessageProcessingHook;
    NSMutableDictionary *_currentlyProcessingMessages;
}

- (void).cxx_destruct;
- (void)abortMessageStanza:(id)arg1 journalID:(id)arg2 error:(id)arg3;
@property(nonatomic) _Bool batchesMessages;
- (id)bizManagerMain;
- (id)chatStorage;
- (void)clearExistingReceiptsWithPostprocessor:(id)arg1;
- (void)createRevokedMessageSignalsIfNeeded;
@property(readonly, nonatomic) NSMutableDictionary *currentlyProcessingMessages; // @synthesize currentlyProcessingMessages=_currentlyProcessingMessages;
- (void)deleteMessagesWithPostprocessor:(id)arg1;
- (void)didCommitMessages:(id)arg1 newOrUpdatedMessages:(id)arg2 postprocessor:(id)arg3;
- (void)didFailToPreprocessMessageWithStanza:(id)arg1 result:(id)arg2;
- (void)didFinishPostprocessing:(id)arg1 payloads:(id)arg2;
- (void)didPreprocessGroupMessageWithContext:(id)arg1 result:(id)arg2;
- (void)didPreprocessIndividualMessageWithContext:(id)arg1 result:(id)arg2;
- (void)didPreprocessPassthroughMessageWithContext:(id)arg1 result:(id)arg2;
- (void)didPreprocessServiceExtMergingMessageWithContext:(id)arg1 result:(id)arg2;
- (void)didRejectMessages:(id)arg1 withError:(id)arg2;
- (void)dispatchAsync:(CDUnknownBlockType)arg1;
- (void)dispatchAsyncMainQueue:(CDUnknownBlockType)arg1;
- (void)dispatchAsyncPrekeyMsgQueue:(CDUnknownBlockType)arg1;
- (void)dispatchAsyncWorkQueue:(CDUnknownBlockType)arg1;
- (void)enqueueCompletionHandlerForClientServerKeyBundleSync:(CDUnknownBlockType)arg1;
- (void)enqueueForEgress:(id)arg1;
- (void)flush;
- (void)getInterestingNonPlaceholderUniqueKeys:(out id *)arg1 placeholderUniqueKeys:(out id *)arg2 forMessageStanzas:(id)arg3;
- (void)handleBatchedDecryptedMessages:(id)arg1;
- (void)handleBatchedMessageContexts:(id)arg1;
- (void)handleEncryptedMessageStanza:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)handlePlaintextMessageStanza:(id)arg1 plaintextProtobuf:(id)arg2 notificationBehavior:(unsigned long long)arg3;
- (id)initWithXMPPConnection:(id)arg1;
- (void)invokeCompletionBlockInPayload:(id)arg1 postprocessor:(id)arg2;
- (id)localKeyValueStore;
- (id)messageForCompletionBlockInPayload:(id)arg1 postprocessor:(id)arg2;
- (void)messageProcessor:(id)arg1 didReceiveServerCheckLocalRegistrationId:(unsigned int)arg2;
- (id)messagesForStanzaIds:(id)arg1 inContext:(id)arg2;
- (void)notifyOfOfflineMarker;
- (id)persistentRequestManager;
- (void)postMessageUpdatedNotificationsForMessage:(id)arg1;
- (void)postMessageUpdatedNotificationsWithPostprocessor:(id)arg1;
- (void)processResultsAfterSignalForContext:(id)arg1 plaintextProtobuf:(id)arg2 notificationBehavior:(unsigned long long)arg3 journalID:(id)arg4 error:(id)arg5 retryCount:(unsigned char)arg6 origin:(unsigned long long)arg7;
- (void)reallyHandleBatchedMessageContexts:(id)arg1 interestingNonPlaceholderUniqueKeys:(id)arg2 placeholderUniqueKeys:(id)arg3;
- (void)reallyProcessResultsAfterSignalForContext:(id)arg1 plaintextProtobuf:(id)arg2 notificationBehavior:(unsigned long long)arg3 journalID:(id)arg4 error:(id)arg5 retryCount:(unsigned char)arg6 origin:(unsigned long long)arg7;
@property(readonly, nonatomic) NSDictionary *revokedMessageSignals; // @synthesize revokedMessageSignals=_revokedMessageSignals;
- (void)runCompletionBlocksWithError:(id)arg1 postprocessor:(id)arg2;
- (void)sendDeliveryReceiptsWithPostprocessor:(id)arg1;
- (void)sendRetryReceiptForUndecryptableMessageStanza:(id)arg1 retryCount:(unsigned char)arg2;
- (void)serviceGroupDecryptRequest:(id)arg1 individualDecryptRequest:(id)arg2 forContext:(id)arg3 retryCount:(unsigned char)arg4 offline:(_Bool)arg5;
- (void)serviceIndividualDecryptRequest:(id)arg1 forContext:(id)arg2 retryCount:(unsigned char)arg3 offline:(_Bool)arg4;
- (void)setPrekeyMessageProcessingHook:(CDUnknownBlockType)arg1;
- (void)shimForPrekeyAndSignalOrderingWithCompletion:(CDUnknownBlockType)arg1;
- (void)shimForPrekeyOrderingForPrekeyMessage:(_Bool)arg1 block:(CDUnknownBlockType)arg2;
- (id)signalManager;
- (id)triggeredBlockHelper;
- (void)updateCurrentlyProcessingMessagesWithPostprocessor:(id)arg1;
- (void)updateMessagesWithPostprocessor:(id)arg1;
- (void)updatePushNamesForGroupNotification:(id)arg1;
- (void)updatePushNamesForMessageStanzas:(id)arg1;
- (void)updatePushNamesInStorage:(id)arg1;
- (void)willDecryptMessageStanza:(id)arg1;

// Remaining properties
@property(readonly, copy) NSString *debugDescription;
@property(readonly, copy) NSString *description;
@property(readonly) unsigned long long hash;
@property(readonly) Class superclass;

@end

