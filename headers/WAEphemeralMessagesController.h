//
//     Generated by classdumpios 1.0.2 (64 bit).
//
//  Copyright (C) 1997-2019 Steve Nygard.
//

#import <objc/NSObject.h>

#import "WARemoveExpiredEphemeralMessagesTaskDataSource-Protocol.h"
#import "WARemoveExpiredEphemeralMessagesTaskDelegate-Protocol.h"
#import "WAUpgradeCallback-Protocol.h"

@class NSDate, NSString, WAChatStorage, WAExactTimer, WARemoveExpiredEphemeralMessagesTask, WATaskManager;
@protocol OS_dispatch_queue, WAServerDate;

@interface WAEphemeralMessagesController : NSObject <WARemoveExpiredEphemeralMessagesTaskDelegate, WARemoveExpiredEphemeralMessagesTaskDataSource, WAUpgradeCallback>
{
    WAChatStorage *_chatStorage;
    WATaskManager *_taskManager;
    NSObject<OS_dispatch_queue> *_queue;
    _Bool _isUpdatingDisplayDate;
    NSDate<WAServerDate> *_displayDate;
    NSDate<WAServerDate> *_nextMessageExpirationDate;
    WAExactTimer *_nextMessageExpirationDateTimer;
    WARemoveExpiredEphemeralMessagesTask *_task;
}

+ (id)predicateForNonExpiredEphemeralMessages;
+ (id)predicateForNonExpiredEphemeralMessagesWithMediaItemEntity;
+ (id)predicateForNonExpiredEphemeralMessagesWithMessageDataItem;
+ (id)predicateForNonExpiredEphemeralMessagesWithWAMessageProperty;
+ (id)predicateForNonViewOnceMessages;
+ (void)syncGroupEphemeralitySettingIfNeeded;
+ (void)wa_didUpgradeFrom:(id)arg1 to:(id)arg2;
- (void).cxx_destruct;
- (void)applicationWillEnterForeground:(id)arg1;
- (void)chatListViewControllerDidEndSearchNotification:(id)arg1;
- (void)chatMessagesViewControllerDidDisappear:(id)arg1;
- (id)dateToBeginPruningRunInRemoveExpiredEphemeralMessagesTask:(id)arg1;
- (void)dealloc;
- (void)didUpdateServerProperties:(id)arg1;
@property(readonly, nonatomic) NSDate<WAServerDate> *displayDate; // @synthesize displayDate=_displayDate;
- (id)initWithChatStorage:(id)arg1 taskManager:(id)arg2;
- (_Bool)isMessageExpired:(id)arg1;
@property(nonatomic) _Bool isUpdatingDisplayDate; // @synthesize isUpdatingDisplayDate=_isUpdatingDisplayDate;
- (void)loadDeferredObjects;
- (void)messageDidUpdateExpirationDate:(id)arg1;
@property(retain, nonatomic) NSDate<WAServerDate> *nextMessageExpirationDate; // @synthesize nextMessageExpirationDate=_nextMessageExpirationDate;
@property(retain, nonatomic) WAExactTimer *nextMessageExpirationDateTimer; // @synthesize nextMessageExpirationDateTimer=_nextMessageExpirationDateTimer;
- (void)postDidUpdateDisplayDateNotification;
- (void)removeExpiredEphemeralMessagesTaskDidEndPruningRun:(id)arg1 nextMessageExpirationDate:(id)arg2;
- (void)scheduleRemoveExpiredMessagesTask;
- (void)setDisplayDate:(id)arg1;
@property(retain, nonatomic) WARemoveExpiredEphemeralMessagesTask *task; // @synthesize task=_task;
- (void)startTimerWithExpirationDateIfNeeded:(id)arg1;
- (void)stopTimer;
- (void)updateUIFilteringDisplayDateAndScheduleTaskIfNeeded;

// Remaining properties
@property(readonly, copy) NSString *debugDescription;
@property(readonly, copy) NSString *description;
@property(readonly) unsigned long long hash;
@property(readonly) Class superclass;

@end

